{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["/*\n * @package    block_enrolcode\n * @copyright  2020 Center for learning management (www.lernmanagement.at)\n * @author     Robert Schrenk\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * @module block_enrolcode/main\n */\ndefine(\n  ['jquery', 'core/ajax', 'core/notification', 'core/str', 'core/templates', 'core/url', 'core/modal_events', 'core/modal_factory', 'core/templates'],\n  function ($, AJAX, NOTIFICATION, STR, TEMPLATES, URL, ModalEvents, ModalFactory, Templates) {\n    return {\n      debug: true,\n      /**\n       *\n       */\n      deleteCode: function (code, uniqid) {\n        STR.get_strings([\n          {'key': 'confirmation', 'component': 'block_enrolcode'},\n          {'key': 'really_delete', 'component': 'block_enrolcode', 'param': {'code': code}},\n        ]).done(function (s) {\n            ModalFactory.create({\n              type: ModalFactory.types.SAVE_CANCEL,\n              title: s[0],\n              body: s[1],\n              large: false,\n            }).then(function (modal) {\n              var root = modal.getRoot();\n              root.on(ModalEvents.save, function () {\n                modal.hide();\n                AJAX.call([{\n                  methodname: 'block_enrolcode_delete',\n                  args: {code: code},\n                  done: function (result) {\n                    if (result == '1') {\n                      // Remove code from list and close fullsize-pane.\n                      if (typeof (uniqid) !== 'undefined') {\n                        $('#block_enrolcode_old_codes-' + uniqid + ' [data-code=' + code + ']').remove();\n                      }\n                    } else {\n                      alert(result);\n                    }\n                  },\n                  fail: NOTIFICATION.exception\n                }]);\n              });\n              modal.show();\n            });\n          }\n        ).fail(NOTIFICATION.exception);\n      },\n      /**\n       * Show a code in full-size\n       */\n      fullsizeCode: function (uniqid, subid) {\n        if (this.debug) console.log('block_enrolcode/main::fullsizeCode(uniqid, subid)', uniqid, subid);\n\n        var enrolcode = {};\n        var parentid = '#enrolcode-item-' + uniqid + '-' + subid;\n        var parent = $(parentid);\n        var fields = ['accesscode', 'group', 'maturity', 'enrolmentend', 'role'];\n        fields.forEach(function (field) {\n          enrolcode[field] = $(parentid + ' .' + field).html();\n        });\n        enrolcode['qr'] = $(parentid + ' .qr').attr('src');\n        enrolcode['url'] = $(parentid + ' .accesscode').attr('href');\n\n        STR.get_strings([\n          {'key': 'code:accesscode', 'component': 'block_enrolcode'},\n        ]).done(function (s) {\n            ModalFactory.create({\n              type: ModalFactory.types.OK,\n              title: s[0] + ' <strong>' + enrolcode.accesscode + '</strong>',\n              body: TEMPLATES.render('block_enrolcode/code_fullsize', enrolcode),\n              large: true,\n            }).then(function (modal) {\n              modal.show();\n            });\n          }\n        ).fail(NOTIFICATION.exception);\n      },\n      /**\n       * Generate the URL for enrolment.\n       */\n      generateEnrolURL: function (code) {\n        return URL.relativeUrl('/blocks/enrolcode/enrol.php?code=' + code);\n      },\n      /**\n       * Get a code for fast enrolment.\n       * @param uniqid of form\n       */\n      getCode: function (src) {\n        this.injectCSS();\n        var MAIN = this;\n        console.log('MAIN.getCode(src)', src);\n\n        var form = $(src).closest('form');\n\n        var courseid = +$(form).find('[name=\"courseid\"]').val();\n        var roleid = +$(form).find('[name=\"roleid\"]').val();\n        var groupid = +$(form).find('[name=\"groupid\"]').val();\n        var custommaturity = $(form).find('[name=\"custommaturity\"]').is(\":checked\") ? 1 : 0;\n        var chkenrolmentend = $(form).find('[name=\"chkenrolmentend\"]').is(\":checked\") ? 1 : 0;\n        var maturity = new Date(\n          $(form).find('#id_maturity_year').val(),\n          $(form).find('#id_maturity_month').val() - 1, // JavaScript starts with January = 0\n          $(form).find('#id_maturity_day').val(),\n          $(form).find('#id_maturity_hour').val(),\n          $(form).find('#id_maturity_minute').val(),\n          0,\n          0);\n        var enrolmentend = new Date(\n          $(form).find('#id_enrolmentend_year').val(),\n          $(form).find('#id_enrolmentend_month').val() - 1, // JavaScript starts with January = 0\n          $(form).find('#id_enrolmentend_day').val(),\n          $(form).find('#id_enrolmentend_hour').val(),\n          $(form).find('#id_enrolmentend_minute').val(),\n          0,\n          0);\n        var data = {\n          courseid: courseid,\n          roleid: roleid,\n          groupid: groupid,\n          custommaturity: custommaturity,\n          maturity: Math.ceil(maturity.getTime() / 1000),\n          chkenrolmentend: chkenrolmentend,\n          enrolmentend: Math.ceil(enrolmentend.getTime() / 1000)\n        };\n\n        STR.get_strings([\n          {'key': 'code:get', component: 'block_enrolcode'},\n          {'key': 'finished', component: 'block_enrolcode'},\n        ]).done(function (s) {\n          AJAX.call([{\n            methodname: 'block_enrolcode_get',\n            args: data,\n            done: function (result) {\n              var code = result;\n              if (result != '' && result != null) {\n                // We got the code return it!\n                console.log('Got code', result);\n                ModalFactory.create({\n                  type: ModalFactory.types.ALERT,\n                  title: s[0],\n                  body: Templates.render('block_enrolcode/modal_code', {\n                    code: code,\n                    qrcode_image: URL.relativeUrl('/blocks/enrolcode/pix/qr.php?format=base64&txt=' + btoa(MAIN.generateEnrolURL(result))),\n                    enrolurl: MAIN.generateEnrolURL(result),\n                  }),\n                  buttons: {\n                    cancel: s[1],\n                  }\n                }).then(function (modal) {\n                  modal.show();\n                });\n              } else {\n                // There was an error - show error box\n                ModalFactory.create({\n                  type: ModalFactory.types.OK,\n                  title: 'Error',\n                  body: TEMPLATES.render('block_enrolcode/code_get_error', {}),\n                }).then(function (modal) {\n                  modal.show();\n                });\n              }\n            },\n            fail: NOTIFICATION.exception\n          }]);\n        });\n      },\n      /**\n       * Show the form to get a code in a modal.\n       * @param courseid the courseid we need the modal for.\n       */\n      getCodeModal: function (courseid) {\n        this.injectCSS();\n        AJAX.call([{\n          methodname: 'block_enrolcode_form',\n          args: {'courseid': courseid},\n          done: function (result) {\n            STR.get_strings([\n              {'key': 'code:get', component: 'block_enrolcode'},\n            ]).done(function (s) {\n                ModalFactory.create({\n                  type: ModalFactory.types.OK,\n                  title: s[0],\n                  body: result,\n                  large: true,\n                }).then(function (modal) {\n                  var root = modal.getRoot();\n                  root.on(ModalEvents.OK, function () {\n                    console.log('Hiding modal');\n                    modal.hide();\n                  });\n                  modal.show();\n                });\n              }\n            ).fail(NOTIFICATION.exception);\n          },\n          fail: NOTIFICATION.exception\n        }]);\n      },\n      /**\n       * Let's inject a button on the enrol users page.\n       */\n      injectButton: function (courseid) {\n        if (typeof courseid === 'undefined' || courseid <= 1) return;\n        STR.get_strings([\n          {'key': 'code:get', component: 'block_enrolcode'},\n        ]).done(function (s) {\n            $('#page-content div.enrolusersbutton').parent().prepend(\n              $('<div class=\"singlebutton enrolusersbutton block_enrolcode\">').append(\n                $('<a href=\"#\" onclick=\"require([\\'block_enrolcode/main\\'], function(MAIN) { MAIN.getCodeModal(' + courseid + '); }); return false;\" class=\"btn btn-secondary my-1\">' + s[0] + '</a>')\n              )\n            );\n          }\n        ).fail(NOTIFICATION.exception);\n      },\n      injectCSS: function () {\n        if ($('head>link[href$=\"/blocks/enrolcode/style/enrolcode.css\"]').length == 0) {\n          console.log('Adding CSS File ', URL.relativeUrl('/blocks/enrolcode/style/enrolcode.css'));\n          $('head').append($('<link rel=\"stylesheet\" type=\"text/css\" href=\"' + URL.relativeUrl('/blocks/enrolcode/style/enrolcode.css') + '\">'));\n        }\n      },\n      /**\n       * Let's inject a button to enter a code directly in users main menu.\n       */\n      injectMainmenuButton: function () {\n        STR.get_strings([\n          {'key': 'code:accesscode', component: 'block_enrolcode'},\n        ]).done(function (s) {\n            $('.usermenu .dropdown a[href$=\"/user/preferences.php\"]').after(\n              $('<a>').attr('href', '#').attr('onclick', 'require([\\'block_enrolcode/main\\'], function(MAIN) { MAIN.sendCodeModal(); }); return false;')\n                .addClass('dropdown-item menu-action').attr('role', 'menuitem')\n                .attr('data-title', 'moodle,accesscard').attr('aria-labelledby', 'actionmenuaction-accesscard')\n                .attr('data-ajax', 'false').append([\n                $('<i>').addClass('icon fa fa-key fa-fw').attr('aria-hidden', 'true'),\n                $('<span>').addClass('menu-action-text').attr('id', 'actionmenuaction-accesscard').html(s[0]),\n              ])\n            );\n          }\n        ).fail(NOTIFICATION.exception);\n      },\n      revokeCode: function (code) {\n        this.injectCSS();\n        var MAIN = this;\n        console.log('MAIN.revokeCode(code)', code);\n\n        AJAX.call([{\n          methodname: 'block_enrolcode_revoke',\n          args: {'code': code},\n          done: function (result) {\n            // We don't really care about the answer.\n          },\n          fail: NOTIFICATION.exception\n        }]);\n      },\n      /**\n       * Send a code for fast enrolment, either provider uniqid OR code\n       * @param uniqid of form containing the input-element for the code.\n       * @param code the code directly\n       */\n      sendCode: function (uniqid, code) {\n        this.injectCSS();\n        var MAIN = this;\n        console.log('MAIN.sendCode(uniqid, code)', uniqid, code);\n        if (typeof uniqid !== 'undefined' && uniqid != '') {\n          code = $('#code-' + uniqid).val();\n        }\n        AJAX.call([{\n          methodname: 'block_enrolcode_send',\n          args: {'code': code},\n          done: function (result) {\n            console.log('Got courseid ', result);\n            if (result > 1) {\n              // We are enrolled - automatically redirect to course!\n              top.location.href = URL.relativeUrl('/course/view.php?id=' + result, {});\n            } else {\n              // There was an error - show error box\n              ModalFactory.create({\n                type: ModalFactory.types.OK,\n                title: 'Error',\n                body: 'Invalid code',\n              }).then(function (modal) {\n                modal.show();\n              });\n            }\n          },\n          fail: NOTIFICATION.exception\n        }]);\n      },\n      /**\n       * Show the form to enter a code in a modal.\n       */\n      sendCodeModal: function () {\n        var MAIN = this;\n        this.injectCSS();\n\n        STR.get_strings([\n          {'key': 'code:get', component: 'block_enrolcode'},\n          {'key': 'finished', component: 'block_enrolcode'},\n        ]).done(function (s) {\n          ModalFactory.create({\n            type: ModalFactory.types.SAVE_CANCEL,\n            title: s[0],\n            body: Templates.render('block_enrolcode/modal_enter', {}),\n            buttons: {\n              save: s[1],\n            }\n          }).then(function (modal) {\n            modal.show();\n\n            var root = modal.getRoot();\n            root.on(ModalEvents.save, function () {\n              var code = $(root).find('#code').val();\n              MAIN.sendCode('', code);\n            });\n          });\n        });\n      },\n      /**\n       * Share URL via a social network.\n       * @param src The button that was pressed.\n       */\n      shareCode: function (src) {\n        console.log('MAIN.shareCode(src)', src);\n        var target = $(src).attr('data-target');\n        var code = $(src).closest('.container').find('#code').html();\n        var enrolurl = MAIN.generateEnrolURL(code);\n        switch (target) {\n          case 'facebook':\n            window.open('https://www.facebook.com/sharer.php?u=' + encodeURI(enrolurl));\n            break;\n        }\n      }\n    };\n  });\n"],"names":["define","$","AJAX","NOTIFICATION","STR","TEMPLATES","URL","ModalEvents","ModalFactory","Templates","debug","deleteCode","code","uniqid","get_strings","done","s","create","type","types","SAVE_CANCEL","title","body","large","then","modal","getRoot","on","save","hide","call","methodname","args","result","remove","alert","fail","exception","show","fullsizeCode","subid","this","console","log","enrolcode","parentid","forEach","field","html","attr","OK","accesscode","render","generateEnrolURL","relativeUrl","getCode","src","injectCSS","MAIN","form","closest","courseid","find","val","roleid","groupid","custommaturity","is","chkenrolmentend","maturity","Date","enrolmentend","data","Math","ceil","getTime","component","ALERT","qrcode_image","btoa","enrolurl","buttons","cancel","getCodeModal","injectButton","parent","prepend","append","length","injectMainmenuButton","after","addClass","revokeCode","sendCode","top","location","href","sendCodeModal","root","shareCode","target","window","open","encodeURI"],"mappings":";;;;;;AAUAA,8BACE,CAAC,SAAU,YAAa,oBAAqB,WAAY,iBAAkB,WAAY,oBAAqB,qBAAsB,mBAClI,SAAUC,EAAGC,KAAMC,aAAcC,IAAKC,UAAWC,IAAKC,YAAaC,aAAcC,iBACxE,CACLC,OAAO,EAIPC,WAAY,SAAUC,KAAMC,QAC1BT,IAAIU,YAAY,CACd,KAAQ,yBAA6B,mBACrC,KAAQ,0BAA8B,wBAA4B,MAASF,SAC1EG,MAAK,SAAUC,GACdR,aAAaS,OAAO,CAClBC,KAAMV,aAAaW,MAAMC,YACzBC,MAAOL,EAAE,GACTM,KAAMN,EAAE,GACRO,OAAO,IACNC,MAAK,SAAUC,OACLA,MAAMC,UACZC,GAAGpB,YAAYqB,MAAM,WACxBH,MAAMI,OACN3B,KAAK4B,KAAK,CAAC,CACTC,WAAY,yBACZC,KAAM,CAACpB,KAAMA,MACbG,KAAM,SAAUkB,QACA,KAAVA,YAEsB,IAAZpB,QACVZ,EAAE,8BAAgCY,OAAS,eAAiBD,KAAO,KAAKsB,SAG1EC,MAAMF,SAGVG,KAAMjC,aAAakC,gBAGvBZ,MAAMa,aAGVF,KAAKjC,aAAakC,YAKtBE,aAAc,SAAU1B,OAAQ2B,OAC1BC,KAAK/B,OAAOgC,QAAQC,IAAI,oDAAqD9B,OAAQ2B,WAErFI,UAAY,GACZC,SAAW,mBAAqBhC,OAAS,IAAM2B,MACtCvC,EAAE4C,UACF,CAAC,aAAc,QAAS,WAAY,eAAgB,QAC1DC,SAAQ,SAAUC,OACvBH,UAAUG,OAAS9C,EAAE4C,SAAW,KAAOE,OAAOC,UAEhDJ,UAAS,GAAS3C,EAAE4C,SAAW,QAAQI,KAAK,OAC5CL,UAAS,IAAU3C,EAAE4C,SAAW,gBAAgBI,KAAK,QAErD7C,IAAIU,YAAY,CACd,KAAQ,4BAAgC,qBACvCC,MAAK,SAAUC,GACdR,aAAaS,OAAO,CAClBC,KAAMV,aAAaW,MAAM+B,GACzB7B,MAAOL,EAAE,GAAK,YAAc4B,UAAUO,WAAa,YACnD7B,KAAMjB,UAAU+C,OAAO,gCAAiCR,WACxDrB,OAAO,IACNC,MAAK,SAAUC,OAChBA,MAAMa,aAGVF,KAAKjC,aAAakC,YAKtBgB,iBAAkB,SAAUzC,aACnBN,IAAIgD,YAAY,oCAAsC1C,OAM/D2C,QAAS,SAAUC,UACZC,gBACDC,KAAOjB,KACXC,QAAQC,IAAI,oBAAqBa,SAE7BG,KAAO1D,EAAEuD,KAAKI,QAAQ,QAEtBC,UAAY5D,EAAE0D,MAAMG,KAAK,qBAAqBC,MAC9CC,QAAU/D,EAAE0D,MAAMG,KAAK,mBAAmBC,MAC1CE,SAAWhE,EAAE0D,MAAMG,KAAK,oBAAoBC,MAC5CG,eAAiBjE,EAAE0D,MAAMG,KAAK,2BAA2BK,GAAG,YAAc,EAAI,EAC9EC,gBAAkBnE,EAAE0D,MAAMG,KAAK,4BAA4BK,GAAG,YAAc,EAAI,EAChFE,SAAW,IAAIC,KACjBrE,EAAE0D,MAAMG,KAAK,qBAAqBC,MAClC9D,EAAE0D,MAAMG,KAAK,sBAAsBC,MAAQ,EAC3C9D,EAAE0D,MAAMG,KAAK,oBAAoBC,MACjC9D,EAAE0D,MAAMG,KAAK,qBAAqBC,MAClC9D,EAAE0D,MAAMG,KAAK,uBAAuBC,MACpC,EACA,GACEQ,aAAe,IAAID,KACrBrE,EAAE0D,MAAMG,KAAK,yBAAyBC,MACtC9D,EAAE0D,MAAMG,KAAK,0BAA0BC,MAAQ,EAC/C9D,EAAE0D,MAAMG,KAAK,wBAAwBC,MACrC9D,EAAE0D,MAAMG,KAAK,yBAAyBC,MACtC9D,EAAE0D,MAAMG,KAAK,2BAA2BC,MACxC,EACA,GACES,KAAO,CACTX,SAAUA,SACVG,OAAQA,OACRC,QAASA,QACTC,eAAgBA,eAChBG,SAAUI,KAAKC,KAAKL,SAASM,UAAY,KACzCP,gBAAiBA,gBACjBG,aAAcE,KAAKC,KAAKH,aAAaI,UAAY,MAGnDvE,IAAIU,YAAY,CACd,KAAQ,WAAY8D,UAAW,mBAC/B,KAAQ,WAAYA,UAAW,qBAC9B7D,MAAK,SAAUC,GAChBd,KAAK4B,KAAK,CAAC,CACTC,WAAY,sBACZC,KAAMwC,KACNzD,KAAM,SAAUkB,YACVrB,KAAOqB,OACG,IAAVA,QAA0B,MAAVA,QAElBS,QAAQC,IAAI,WAAYV,QACxBzB,aAAaS,OAAO,CAClBC,KAAMV,aAAaW,MAAM0D,MACzBxD,MAAOL,EAAE,GACTM,KAAMb,UAAU2C,OAAO,6BAA8B,CACnDxC,KAAMA,KACNkE,aAAcxE,IAAIgD,YAAY,kDAAoDyB,KAAKrB,KAAKL,iBAAiBpB,UAC7G+C,SAAUtB,KAAKL,iBAAiBpB,UAElCgD,QAAS,CACPC,OAAQlE,EAAE,MAEXQ,MAAK,SAAUC,OAChBA,MAAMa,WAIR9B,aAAaS,OAAO,CAClBC,KAAMV,aAAaW,MAAM+B,GACzB7B,MAAO,QACPC,KAAMjB,UAAU+C,OAAO,iCAAkC,MACxD5B,MAAK,SAAUC,OAChBA,MAAMa,WAIZF,KAAMjC,aAAakC,iBAQzB8C,aAAc,SAAUtB,eACjBJ,YACLvD,KAAK4B,KAAK,CAAC,CACTC,WAAY,uBACZC,KAAM,UAAa6B,UACnB9C,KAAM,SAAUkB,QACd7B,IAAIU,YAAY,CACd,KAAQ,WAAY8D,UAAW,qBAC9B7D,MAAK,SAAUC,GACdR,aAAaS,OAAO,CAClBC,KAAMV,aAAaW,MAAM+B,GACzB7B,MAAOL,EAAE,GACTM,KAAMW,OACNV,OAAO,IACNC,MAAK,SAAUC,OACLA,MAAMC,UACZC,GAAGpB,YAAY2C,IAAI,WACtBR,QAAQC,IAAI,gBACZlB,MAAMI,UAERJ,MAAMa,aAGVF,KAAKjC,aAAakC,YAEtBD,KAAMjC,aAAakC,cAMvB+C,aAAc,SAAUvB,eACE,IAAbA,UAA4BA,UAAY,GACnDzD,IAAIU,YAAY,CACd,KAAQ,WAAY8D,UAAW,qBAC9B7D,MAAK,SAAUC,GACdf,EAAE,sCAAsCoF,SAASC,QAC/CrF,EAAE,+DAA+DsF,OAC/DtF,EAAE,+FAAiG4D,SAAW,wDAA0D7C,EAAE,GAAK,aAIrLoB,KAAKjC,aAAakC,YAEtBoB,UAAW,WACmE,GAAxExD,EAAE,4DAA4DuF,SAChE9C,QAAQC,IAAI,mBAAoBrC,IAAIgD,YAAY,0CAChDrD,EAAE,QAAQsF,OAAOtF,EAAE,gDAAkDK,IAAIgD,YAAY,yCAA2C,SAMpImC,qBAAsB,WACpBrF,IAAIU,YAAY,CACd,KAAQ,kBAAmB8D,UAAW,qBACrC7D,MAAK,SAAUC,GACdf,EAAE,wDAAwDyF,MACxDzF,EAAE,OAAOgD,KAAK,OAAQ,KAAKA,KAAK,UAAW,8FACxC0C,SAAS,6BAA6B1C,KAAK,OAAQ,YACnDA,KAAK,aAAc,qBAAqBA,KAAK,kBAAmB,+BAChEA,KAAK,YAAa,SAASsC,OAAO,CACnCtF,EAAE,OAAO0F,SAAS,wBAAwB1C,KAAK,cAAe,QAC9DhD,EAAE,UAAU0F,SAAS,oBAAoB1C,KAAK,KAAM,+BAA+BD,KAAKhC,EAAE,UAIhGoB,KAAKjC,aAAakC,YAEtBuD,WAAY,SAAUhF,WACf6C,YAELf,QAAQC,IAAI,wBAAyB/B,MAErCV,KAAK4B,KAAK,CAAC,CACTC,WAAY,yBACZC,KAAM,MAASpB,MACfG,KAAM,SAAUkB,UAGhBG,KAAMjC,aAAakC,cAQvBwD,SAAU,SAAUhF,OAAQD,WACrB6C,YAELf,QAAQC,IAAI,8BAA+B9B,OAAQD,WAC7B,IAAXC,QAAoC,IAAVA,SACnCD,KAAOX,EAAE,SAAWY,QAAQkD,OAE9B7D,KAAK4B,KAAK,CAAC,CACTC,WAAY,uBACZC,KAAM,MAASpB,MACfG,KAAM,SAAUkB,QACdS,QAAQC,IAAI,gBAAiBV,QACzBA,OAAS,EAEX6D,IAAIC,SAASC,KAAO1F,IAAIgD,YAAY,uBAAyBrB,OAAQ,IAGrEzB,aAAaS,OAAO,CAClBC,KAAMV,aAAaW,MAAM+B,GACzB7B,MAAO,QACPC,KAAM,iBACLE,MAAK,SAAUC,OAChBA,MAAMa,WAIZF,KAAMjC,aAAakC,cAMvB4D,cAAe,eACTvC,KAAOjB,UACNgB,YAELrD,IAAIU,YAAY,CACd,KAAQ,WAAY8D,UAAW,mBAC/B,KAAQ,WAAYA,UAAW,qBAC9B7D,MAAK,SAAUC,GAChBR,aAAaS,OAAO,CAClBC,KAAMV,aAAaW,MAAMC,YACzBC,MAAOL,EAAE,GACTM,KAAMb,UAAU2C,OAAO,8BAA+B,IACtD6B,QAAS,CACPrD,KAAMZ,EAAE,MAETQ,MAAK,SAAUC,OAChBA,MAAMa,WAEF4D,KAAOzE,MAAMC,UACjBwE,KAAKvE,GAAGpB,YAAYqB,MAAM,eACpBhB,KAAOX,EAAEiG,MAAMpC,KAAK,SAASC,MACjCL,KAAKmC,SAAS,GAAIjF,gBAS1BuF,UAAW,SAAU3C,KACnBd,QAAQC,IAAI,sBAAuBa,SAC/B4C,OAASnG,EAAEuD,KAAKP,KAAK,eACrBrC,KAAOX,EAAEuD,KAAKI,QAAQ,cAAcE,KAAK,SAASd,OAClDgC,SAAWtB,KAAKL,iBAAiBzC,SAE9B,aADCwF,OAEJC,OAAOC,KAAK,yCAA2CC,UAAUvB"}